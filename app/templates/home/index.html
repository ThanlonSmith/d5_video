{% extends "home/home.html" %}
{% block css %}
    <style>

    </style>
{% endblock %}
{% block content %}
    <!--热门电影-->
    <section style="margin-top:5px">
        <div class="container">
            <div class="row">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                    </ol>
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img class="lazy img-responsive center-block"
                                 data-original="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3378845190,1441759945&fm=26&gp=0.jpg"
                                 alt="...">
                            <div class="carousel-caption"></div>
                        </div>
                        <div class="item">
                            <img class="img-responsive center-block"
                                 src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1594755767086&di=d1f9c773ad1f6fa45eefcdaa3af4483f&imgtype=0&src=http%3A%2F%2Fjsluanxiang.com%2Fuploads%2Fimg%2F201609042041256486.jpg"
                                 alt="...">
                            <div class="carousel-caption">...</div>
                        </div>
                    </div>
                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button"
                       data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button"
                       data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!--热门电影-->
    <!--电影列表-->
    <section>
        <div class="container">
            <div class="row wow fadeIn" data-wow-delay="0.6s">
                <div class="col-md-12 table-responsive" style="padding-left: 0;padding-right:0px">
                    <table class="table text-left table-bordered" id="movietags"
                           style="margin-bottom: 8px;margin-top: 8px">
                        <!--
                        <tr>
                            <td style="width:10%;">电影分类</td>
                            <td style="width:90%;">
                                <a href="" class="label label-info"><span class="glyphicon glyphicon-tag"></span>&nbsp;电影</a>
                                <a href="" class="label label-default"><span class="glyphicon glyphicon-tag"></span>&nbsp;电视连续剧</a>
                                <a href="" class="label label-danger"><span class="glyphicon glyphicon-tag"></span>&nbsp;音乐MV</a>

                        </tr>
                        -->
                        <tr>
                            <td style="width:10%;">电影标签</td>
                            <td style="width:90%;">
                                <a href="" class="label label-primary"><span class="glyphicon glyphicon-tag"></span>&nbsp;教育</a>
                                <a href="" class="label label-primary"><span class="glyphicon glyphicon-tag"></span>&nbsp;正能量</a>
                                <a href="" class="label label-default"><span class="glyphicon glyphicon-tag"></span>&nbsp;友情</a>
                                <a href="" class="label label-warning"><span class="glyphicon glyphicon-tag"></span>&nbsp;惊悚</a>
                                <a href="" class="label label-danger"><span class="glyphicon glyphicon-tag"></span>&nbsp;亲情</a>
                                <a href="" class="label label-warning"><span class="glyphicon glyphicon-tag"></span>&nbsp;爱情</a>
                                <a href="" class="label label-danger"><span class="glyphicon glyphicon-tag"></span>&nbsp;旅行</a>
                                <a href="" class="label label-primary"><span class="glyphicon glyphicon-tag"></span>&nbsp;体育</a>
                                <a href="" class="label label-info"><span class="glyphicon glyphicon-tag"></span>&nbsp;美食</a>
                        </tr>
                        <tr>
                            <td>电影评分</td>
                            <td>
                                <a href="" class="label label-primary"><span class="glyphicon glyphicon-star"></span>&nbsp;</a>
                                <a href="" class="label label-warning"><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span>&nbsp;</a>
                                <a href="" class="label label-info"><span class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span>&nbsp;</a>
                                <a href="" class="label label-info"><span class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span>&nbsp;</a>
                                <a href="" class="label label-info"><span class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span><span
                                        class="glyphicon glyphicon-star"></span>&nbsp;</a>
                            </td>
                        </tr>
                        <tr>
                            <td>发布时间</td>
                            <td>
                                <a href="" class="label label-default"><span class="glyphicon glyphicon-time"></span>&nbsp;最近</span>
                                </a>
                                &nbsp;
                                <a href="" class="label label-default"><span class="glyphicon glyphicon-time"></span>&nbsp;更早</span>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>播放次数</td>
                            <td>
                                <a href="" class="label label-success"><span
                                        class="glyphicon glyphicon-arrow-down"></span>&nbsp;从高到底</span>
                                </a>
                                &nbsp;
                                <a href="" class="label label-danger"><span class="glyphicon glyphicon-arrow-up"></span>&nbsp;从低到高</span>
                                </a>
                            </td>
                        </tr>
                        <!--
                        <tr>
                            <td>热门程度</td>
                            <td>
                                <a href="" class="label label-success"><span
                                        class="glyphicon glyphicon-arrow-down"></span>&nbsp;从高到底</span>
                                </a>
                                &nbsp;
                                <a href="" class="label label-danger"><span class="glyphicon glyphicon-arrow-up"></span>&nbsp;从低到高</span>
                                </a>
                            </td>
                        </tr>
                        -->
                    </table>
                </div>
            </div>
            <div class="row">
                <div id="container"></div>
                <nav aria-label="Page navigation" style="padding: 0" class="text-center">
                    <ul class="pagination">
                        <li>
                            <a href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="active"><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li>
                            <a href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </section>
    <!--电影列表-->
{% endblock %}
{% block js %}
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.js"></script>
    <script>
        $(function () {
            get_movie_list();
        })

        function get_movie_list() {
            $.ajax({
                url: '/api/movie/list/',
                type: 'GET',
                datatype: 'json',
                //data: {},
                success: function (args) {
                    $.each(args.movies, function (i, row) {
                        var movies_items = "<div style=\"padding-left:2px;padding-right:2px\" class=\"col-sm-6 col-md-3\"><div class=\"thumbnail\">" + "<img class=\"lazy\" data-src=\"holder.js/100%x200\" alt=\"100%x200\"" + "data-original=\"" + "/static/admin/uploads/movielogos/" + row.logo + "\"" + "data-holder-rendered=\"true\"" + "style=\"height: 200px; width: 100%; display: block;\">" + "<div class=\"caption\">" + "<h5 style=\"font-weight: bold\">" + row.title + "</h5>" + "<p style=\"font-size: 13px\">" + "" + row.info + "" + "</p>" + "<p>" + "<a href=\"/play/" + row.id + ".html\" class=\"btn btn-primary\" role=\"button\">" + "<span class=\"glyphicon glyphicon-play\"></span>" + "<span>播放</span>" + "</a>" + "<a href=\"#\" class=\"btn btn-danger\" role=\"button\"" + "style=\"\">" + "<span class=\"glyphicon glyphicon-heart\"></span>&nbsp;" + "<span>收藏</span></a>" + "</p>" + "</div>" + "</div></div>"
                        $('#container').append(movies_items);
                    });
                    $("img.lazy").lazyload({
                        //threshold : 200 //想提前加载图片, 可以设置threshold 选项, 设置 threshold 为 200 令图片在距离屏幕 200 像素时提前加载.
                        //event : "click"//你可以使用jquery事件，例如click和mouseover。也可以使用自定义事件，如sporty、foobar默认情况下是要等到用户向下滚动并且图像出现在视口中时。只有当用户点击它们才加载图片：
                        effect: "fadeIn" //淡入效果
                    });
                }
            })
        }
    </script>
{% endblock %}